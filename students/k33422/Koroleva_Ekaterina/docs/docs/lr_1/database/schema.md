# Схема базы данных

## Обзор

База данных включает в себя следующие основные сущности:

- `User`
- `Profile`
- `Trip`
- `Participant`

Эти сущности обеспечивают хранение информации о пользователях, их профилях, поездках и участниках
этих поездок.

## Таблицы

### 1. User

Описывает пользователей системы.

- **email**: Уникальный адрес электронной почты пользователя.
- **hashed_password**: Хешированный пароль пользователя.
- **is_active**: Флаг, указывающий, активен ли пользователь.
- **is_superuser**: Флаг, определяющий, обладает ли пользователь правами суперпользователя.

### 2. Profile

Содержит подробную информацию о профилях пользователей.

- **user_id**: Уникальный идентификатор пользователя, связанный с профилем.
- **first_name**: Имя пользователя.
- **last_name**: Фамилия пользователя.
- **middle_name**: Отчество пользователя.
- **birth_date**: Дата рождения пользователя.
- **gender**: Пол пользователя.
- **bio**: Биография пользователя.
- **country**: Страна проживания пользователя.
- **city**: Город проживания пользователя.
- **language**: Язык общения пользователя.

### 3. Trip

Описывает поездки, организуемые пользователями.

- **profile_id**: Идентификатор профиля, организующего поездку.
- **title**: Название поездки.
- **description**: Описание поездки.
- **start_date**: Дата начала поездки.
- **end_date**: Дата окончания поездки.
- **start_location**: Место начала поездки.
- **destination**: Пункт назначения.

### 4. Participant

Записывает участие профилей в поездках.

- **profile_id**: Идентификатор профиля участника.
- **trip_id**: Идентификатор поездки.
- **status**: Статус участия (`pending`, `accepted`, `rejected`).

## Связи

- **User и Profile**: Один к одному. Пользователь может иметь только один профиль.
- **Profile и Trip**: Один ко многим. Один профиль может организовывать множество поездок.
- **Profile и Participant**: Многие ко многим. Профиль может участвовать в множестве поездок, и
  каждая поездка может включать множество участников.
- **Trip и Participant**: Многие ко многим. Поездка может включать множество участников, и каждый
  участник может быть включен в множество поездок.

## Ограничения

- **Уникальность**: Электронная почта в таблице `User` и `user_id` в таблице `Profile` являются
  уникальными.
- **Проверки**: `end_date` должна быть больше `start_date` в таблице `Trip`.
