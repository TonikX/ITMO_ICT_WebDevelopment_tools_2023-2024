# Инструкция по развертки проекта на локальной машине

## Шаг 1: Установка pyenv (если не установлен)

1. Откройте Powershell и выполните следующую команду для загрузки и установки pyenv-win:

   ```powershell
   Invoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"
   ```

2. Перезапустите Powershell.

3. Проверьте версию pyenv, выполнив команду:

   ```powershell
   pyenv --version
   ```

## Шаг 2: Загрузка проекта с репозитория

Клонируйте проект с репозитория, выполнив следующую команду:

```bash
git clone https://github.com/KorolevaEkaterina334740/ITMO_ICT_WebDevelopment_tools_2023-2024.git
```

## Шаг 3: Переход в директорию проекта

1. Перейдите в корневую директорию проекта:
```bash
cd ./ITMO_ICT_WebDevelopment_tools_2023-2024/
```

2. Смените ветку (Если не мерджнута)
```bash
git switch lr_1
git branch
```

3. Перейдите в директорию проекта, выполнив команду:

```bash
cd ./students/k33422/Koroleva_Ekaterina/lr_1/
```

## Шаг 4: Установка указанной версии Python

1. Установите версию Python, указанную в файле `.python-version`, выполнив команду:

   ```bash
   pyenv install <версия>
   ```

2. Установите локальную версию Python для проекта:

   ```bash
   pyenv local <версия>
   ```

3. Проверьте версию Python, выполнив команду:

   ```bash
   python --version
   ```

   Вывод должен соответствовать указанной версии: `Python <версия>`.

## Шаг 5: Создание виртуального окружения

Создайте виртуальное окружение, выполнив команду:

```bash
python -m venv .venv
```

## Шаг 6: Активация виртуального окружения

Активируйте виртуальное окружение, выполнив команду:

```bash
./.venv/Scripts/activate
```

## Шаг 7: Установка зависимостей

Установите зависимости проекта, выполнив команду:

```bash
pip install -r requirements.txt
```

## Шаг 8: Создание базы данных

Создайте базу данных, выполнив команду (потребуется ввести пароль):

```bash
createdb -U postgres travel
```

## Шаг 9: Настройка переменных окружения

1. Создайте файл `.env` в корневой директории проекта.

2. Скопируйте содержимое файла `.env.example` в файл `.env`.

3. При необходимости измените пароль (`DB_PASSWORD`) для подключения к базе данных на свой локальный
   пароль.

## Шаг 10: Выполнение миграций

Проведите миграции базы данных, выполнив команду:

```bash
alembic upgrade head
```

## Шаг 11: Запуск приложения

Запустите файл `main.py` и перейдите по адресу `http://127.0.0.1:8000/docs` в веб-браузере для
просмотра документации API.

Теперь вы успешно установили и запустили проект!